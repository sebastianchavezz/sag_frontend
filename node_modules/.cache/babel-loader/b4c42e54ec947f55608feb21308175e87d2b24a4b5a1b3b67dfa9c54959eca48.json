{"ast":null,"code":"import _regeneratorRuntime from \"/home/sebastian/Desktop/git_sag_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/sebastian/Desktop/git_sag_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/home/sebastian/Desktop/git_sag_frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport \"core-js/modules/es.array.map.js\";\nimport axios from 'axios';\nimport { mapState } from 'vuex';\nexport default {\n  name: 'RightCanvas',\n  props: {\n    rootClassName: String,\n    heading: {\n      type: String,\n      default: 'Notifications'\n    }\n  },\n  data: function data() {\n    return {\n      friendshipRequests: []\n    };\n  },\n  created: function created() {\n    this.fetchFriendshipRequest();\n  },\n  computed: _objectSpread({}, mapState(['userId', 'accessToken', 'name', 'lastname'])),\n  methods: {\n    fetchFriendshipRequest: function fetchFriendshipRequest() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"http://localhost:3001/get-all-friendship-request/\".concat(_this.userId));\n            case 3:\n              response = _context.sent;\n              _this.friendshipRequests = response.data.map(function (user) {\n                return {\n                  username: user.requester_Username,\n                  id: user.requester_id,\n                  date: user.createdAt,\n                  status: user.status\n                };\n              });\n              _context.next = 10;\n              break;\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Error fetching friendship requests:', _context.t0);\n            case 10:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 7]]);\n      }))();\n    },\n    acceptFriendRequest: function acceptFriendRequest(requesterId) {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              // Perform accept friend request logic, e.g., send a request to the backend\n              data = {\n                other_user: requesterId,\n                status: 'accepted'\n              };\n              _context2.next = 4;\n              return axios.post(\"http://localhost:3001/status-of-friendship/\".concat(_this2.userId), data);\n            case 4:\n              _context2.next = 9;\n              break;\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error('Error accepting friend request:', _context2.t0);\n            case 9:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 6]]);\n      }))();\n    },\n    declineFriendRequest: function declineFriendRequest(requesterId) {\n      var _this3 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3() {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.prev = 0;\n              // Perform decline friend request logic, e.g., send a request to the backend\n              data = {\n                other_user: requesterId,\n                status: 'decline'\n              };\n              _context3.next = 4;\n              return axios.post(\"http://localhost:3001/status-of-friendship/\".concat(_this3.userId), data);\n            case 4:\n              _context3.next = 9;\n              break;\n            case 6:\n              _context3.prev = 6;\n              _context3.t0 = _context3[\"catch\"](0);\n              console.error('Error declining friend request:', _context3.t0);\n            case 9:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3, null, [[0, 6]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["axios","mapState","name","props","rootClassName","String","heading","type","default","data","friendshipRequests","created","fetchFriendshipRequest","computed","_objectSpread","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","userId","sent","map","user","username","requester_Username","id","requester_id","date","createdAt","status","t0","console","error","stop","acceptFriendRequest","requesterId","_this2","_callee2","_callee2$","_context2","other_user","post","declineFriendRequest","_this3","_callee3","_callee3$","_context3"],"sources":["src/components/right-canvas.vue"],"sourcesContent":["<template>\n  <div class=\"right-canvas-right-canvas\" v-bind:class=\"rootClassName\">\n    <h3 class=\"right-canvas-text\">{{ heading }}</h3>\n    \n    <div v-for=\"(request, index) in friendshipRequests\" :key=\"index\">\n      <p>{{ request.username }}</p>\n      <button @click=\"acceptFriendRequest(request.id)\">Accept</button>\n      <button @click=\"declineFriendRequest(request.id)\">Decline</button>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport axios from 'axios';\nimport { mapState } from 'vuex';\n\nexport default {\n  name: 'RightCanvas',\n  props: {\n    rootClassName: String,\n    heading: {\n      type: String,\n      default: 'Notifications',\n    },\n  },\n  data() {\n    return {\n      friendshipRequests: []\n    };\n  },  \n  created() {\n    this.fetchFriendshipRequest();\n  },\n  computed: {\n    ...mapState(['userId', 'accessToken', 'name', 'lastname']),\n  },\n  methods: {\n    async fetchFriendshipRequest() {\n      try {\n        const response = await axios.get(`http://localhost:3001/get-all-friendship-request/${this.userId}`);\n        this.friendshipRequests = response.data.map(user => ({\n          username: user.requester_Username,\n          id: user.requester_id,\n          date: user.createdAt,\n          status: user.status\n        }));\n      } catch(error) {\n        console.error('Error fetching friendship requests:', error);\n      }\n    },\n    async acceptFriendRequest(requesterId) {\n      try {\n        // Perform accept friend request logic, e.g., send a request to the backend\n        const data = {\n          other_user : requesterId,\n          status: 'accepted'\n        }\n        await axios.post(`http://localhost:3001/status-of-friendship/${this.userId}`, data);\n        // Update UI if needed\n      } catch(error) {\n        console.error('Error accepting friend request:', error);\n      }\n    },\n    async declineFriendRequest(requesterId) {\n      try {\n        // Perform decline friend request logic, e.g., send a request to the backend\n        const data = {\n          other_user : requesterId,\n          status: 'decline'\n        }\n        await axios.post(`http://localhost:3001/status-of-friendship/${this.userId}`, data);\n        // Update UI if needed\n      } catch(error) {\n        console.error('Error declining friend request:', error);\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n.right-canvas-right-canvas {\n  width: 20%;\n  height: 815px;\n  margin: var(--dl-space-space-unit);\n  display: flex;\n  position: relative;\n  align-self: flex-end;\n  align-items: flex-start;\n  padding-top: var(--dl-space-space-unit);\n  padding-left: var(--dl-space-space-twounits);\n  padding-right: var(--dl-space-space-twounits);\n  flex-direction: column;\n  padding-bottom: var(--dl-space-space-twounits);\n}\n.right-canvas-text {\n  align-self: flex-start;\n  margin-top: var(--dl-space-space-unit);\n  margin-left: var(--dl-space-space-oneandhalfunits);\n  border-color: var(--dl-color-gray-black);\n  border-width: 0px;\n  margin-right: var(--dl-space-space-unit);\n  margin-bottom: var(--dl-space-space-unit);\n}\n.right-canvas-root-class-name {\n  top: 0px;\n  right: 0px;\n  position: absolute;\n}\n.right-canvas-root-class-name1 {\n  top: 0px;\n  flex: 1;\n  right: 0px;\n  height: 100%;\n  position: absolute;\n}\n.right-canvas-root-class-name2 {\n  top: 0px;\n  right: 0px;\n  position: absolute;\n}\n.right-canvas-root-class-name3 {\n  top: 0px;\n  right: 0px;\n  position: absolute;\n}\n.right-canvas-root-class-name4 {\n  top: 0px;\n  right: 0px;\n  position: absolute;\n}\n.right-canvas-root-class-name5 {\n  top: 0px;\n  right: 0px;\n  position: absolute;\n}\n.right-canvas-root-class-name6 {\n  top: 0px;\n  right: 0px;\n  position: absolute;\n}\n.right-canvas-root-class-name7 {\n  top: 0px;\n  flex: 1;\n  right: 0px;\n  height: 100%;\n  position: absolute;\n}\n.right-canvas-root-class-name8 {\n  top: 0px;\n  flex: 1;\n  right: 0px;\n  height: 100%;\n  position: absolute;\n}\n.right-canvas-root-class-name9 {\n  top: 0px;\n  right: 0px;\n  position: absolute;\n}\n.right-canvas-root-class-name10 {\n  top: 0px;\n  flex: 1;\n  right: 0px;\n  height: 100%;\n  position: absolute;\n}\n.right-canvas-root-class-name11 {\n  top: 0px;\n  right: 0px;\n  position: absolute;\n}\n.right-canvas-root-class-name12 {\n  top: 0px;\n  right: 0px;\n  position: absolute;\n}\n.right-canvas-root-class-name13 {\n  top: 0px;\n  right: 0px;\n  position: absolute;\n}\n.right-canvas-root-class-name14 {\n  top: 0px;\n  right: 0px;\n  position: absolute;\n}\n@media(max-width: 1600px) {\n  .right-canvas-right-canvas {\n    width: 306px;\n    padding: var(--dl-space-space-unit);\n  }\n  .right-canvas-root-class-name1 {\n    top: 0px;\n    right: 0px;\n    width: 20%;\n    height: 100%;\n    position: absolute;\n  }\n  .right-canvas-root-class-name2 {\n    top: 0px;\n    right: 0px;\n    position: absolute;\n  }\n  .right-canvas-root-class-name3 {\n    top: 0px;\n    right: 0px;\n    position: absolute;\n  }\n  .right-canvas-root-class-name4 {\n    top: 0px;\n    right: 0px;\n    position: absolute;\n  }\n  .right-canvas-root-class-name5 {\n    top: 0px;\n    right: 0px;\n    position: absolute;\n  }\n  .right-canvas-root-class-name6 {\n    top: 0px;\n    right: 0px;\n    position: absolute;\n  }\n  .right-canvas-root-class-name7 {\n    top: 0px;\n    right: 0px;\n    width: 20%;\n    height: 100%;\n    position: absolute;\n  }\n  .right-canvas-root-class-name8 {\n    top: 0px;\n    right: 0px;\n    width: 20%;\n    height: 100%;\n    position: absolute;\n  }\n  .right-canvas-root-class-name9 {\n    top: 0px;\n    right: 0px;\n    position: absolute;\n  }\n  .right-canvas-root-class-name10 {\n    top: 0px;\n    right: 0px;\n    width: 20%;\n    height: 100%;\n    position: absolute;\n  }\n  .right-canvas-root-class-name11 {\n    top: 0px;\n    right: 0px;\n    position: absolute;\n  }\n  .right-canvas-root-class-name12 {\n    top: 0px;\n    right: 0px;\n    position: absolute;\n  }\n  .right-canvas-root-class-name13 {\n    top: 0px;\n    right: 0px;\n    position: absolute;\n  }\n  .right-canvas-root-class-name14 {\n    top: 0px;\n    right: 0px;\n    position: absolute;\n  }\n}\n@media(max-width: 1200px) {\n  .right-canvas-right-canvas {\n    right: 0px;\n    width: 318px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}