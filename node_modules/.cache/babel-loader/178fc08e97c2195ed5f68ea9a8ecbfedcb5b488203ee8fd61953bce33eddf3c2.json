{"ast":null,"code":"import _regeneratorRuntime from \"/home/sebastian/Desktop/git_sag_frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/home/sebastian/Desktop/git_sag_frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.symbol.js\";\nimport \"core-js/modules/es.symbol.description.js\";\nimport \"core-js/modules/es.array-buffer.slice.js\";\nimport \"core-js/modules/es.array-buffer.detached.js\";\nimport \"core-js/modules/es.array-buffer.transfer.js\";\nimport \"core-js/modules/es.array-buffer.transfer-to-fixed-length.js\";\nimport \"core-js/modules/es.function.name.js\";\nimport \"core-js/modules/es.object.to-string.js\";\nimport \"core-js/modules/es.string.iterator.js\";\nimport \"core-js/modules/es.typed-array.uint8-array.js\";\nimport \"core-js/modules/es.typed-array.at.js\";\nimport \"core-js/modules/es.typed-array.copy-within.js\";\nimport \"core-js/modules/es.typed-array.every.js\";\nimport \"core-js/modules/es.typed-array.fill.js\";\nimport \"core-js/modules/es.typed-array.filter.js\";\nimport \"core-js/modules/es.typed-array.find.js\";\nimport \"core-js/modules/es.typed-array.find-index.js\";\nimport \"core-js/modules/es.typed-array.find-last.js\";\nimport \"core-js/modules/es.typed-array.find-last-index.js\";\nimport \"core-js/modules/es.typed-array.for-each.js\";\nimport \"core-js/modules/es.typed-array.includes.js\";\nimport \"core-js/modules/es.typed-array.index-of.js\";\nimport \"core-js/modules/es.typed-array.iterator.js\";\nimport \"core-js/modules/es.typed-array.join.js\";\nimport \"core-js/modules/es.typed-array.last-index-of.js\";\nimport \"core-js/modules/es.typed-array.map.js\";\nimport \"core-js/modules/es.typed-array.reduce.js\";\nimport \"core-js/modules/es.typed-array.reduce-right.js\";\nimport \"core-js/modules/es.typed-array.reverse.js\";\nimport \"core-js/modules/es.typed-array.set.js\";\nimport \"core-js/modules/es.typed-array.slice.js\";\nimport \"core-js/modules/es.typed-array.some.js\";\nimport \"core-js/modules/es.typed-array.sort.js\";\nimport \"core-js/modules/es.typed-array.subarray.js\";\nimport \"core-js/modules/es.typed-array.to-locale-string.js\";\nimport \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.to-string.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport \"core-js/modules/web.dom-collections.iterator.js\";\nimport \"core-js/modules/web.url.js\";\nimport \"core-js/modules/web.url.to-json.js\";\nimport \"core-js/modules/web.url-search-params.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nimport AppHeader from '../components/header';\nimport LeftCanvas from '../components/left-canvas';\nimport RightCanvas from '../components/right-canvas';\nimport axios from 'axios';\nimport { Buffer } from 'buffer';\nexport default {\n  name: 'ViewPartyDetails',\n  components: {\n    AppHeader: AppHeader,\n    LeftCanvas: LeftCanvas,\n    RightCanvas: RightCanvas\n  },\n  data: function data() {\n    return {\n      partyid: null,\n      partyData: {\n        name: '',\n        occasion: '',\n        date: '',\n        description: '',\n        members: [],\n        // Initialize image as a Blob object\n        image: null\n      }\n    };\n  },\n  computed: {\n    imageSrc: function imageSrc() {\n      console.log('IMAGESRC: ', this.partyData.image);\n      if (this.partyData.image && Array.isArray(this.partyData.image.data)) {\n        // Create a Uint8Array from the array of integers\n        var uint8Array = new Uint8Array(this.partyData.image.data);\n\n        // Create a buffer from the Uint8Array\n        var buffer = Buffer.from(uint8Array);\n\n        // Create a Blob from the buffer\n        var blob = new Blob([buffer], {\n          type: 'image/jpeg'\n        });\n\n        // Create an object URL from the blob\n        return URL.createObjectURL(blob);\n      } else {\n        console.log('WE IN ELSE');\n        return ''; // Return empty string if image data is not available\n      }\n    }\n  },\n  mounted: function mounted() {\n    this.partyid = this.$route.params.partyid;\n    this.fetchPartyData();\n  },\n  methods: {\n    fetchPartyData: function fetchPartyData() {\n      var _this = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return axios.get(\"http://localhost:3001/get-party/\".concat(_this.partyid));\n            case 3:\n              response = _context.sent;\n              _this.partyData = {\n                name: response.data.name,\n                occasion: response.data.occasion,\n                date: response.data.date,\n                description: response.data.description,\n                members: response.data.members,\n                image: response.data.image\n              };\n              console.log('image: ', _this.partyData.image);\n              _context.next = 11;\n              break;\n            case 8:\n              _context.prev = 8;\n              _context.t0 = _context[\"catch\"](0);\n              console.error('Error fetching party data:', _context.t0);\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, null, [[0, 8]]);\n      }))();\n    },\n    updateParty: function updateParty() {\n      var _this2 = this;\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2() {\n        var response;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return axios.put(\"http://localhost:3001/update-party/\".concat(_this2.partyid), _this2.partyData);\n            case 3:\n              response = _context2.sent;\n              console.log('Party updated successfully:', response.data);\n              // Optionally, you can redirect or show a success message here\n              _context2.next = 10;\n              break;\n            case 7:\n              _context2.prev = 7;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error('Error updating party:', _context2.t0);\n              // Handle error: show error message or redirect to error page\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2, null, [[0, 7]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"names":["AppHeader","LeftCanvas","RightCanvas","axios","Buffer","name","components","data","partyid","partyData","occasion","date","description","members","image","computed","imageSrc","console","log","Array","isArray","uint8Array","Uint8Array","buffer","from","blob","Blob","type","URL","createObjectURL","mounted","$route","params","fetchPartyData","methods","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","sent","t0","error","stop","updateParty","_this2","_callee2","_callee2$","_context2","put"],"sources":["src/views/view-party-details.vue"],"sourcesContent":["<template>\n  <div class=\"view-party-container\">\n    <app-header rootClassName=\"header-root-class-name4\"></app-header>\n    <div class=\"view-party-main-canvas\">\n      <left-canvas rootClassName=\"left-canvas-root-class-name5\"></left-canvas>\n      <right-canvas rootClassName=\"right-canvas-root-class-name5\"></right-canvas>\n      <div class=\"view-party-container1\">\n        <div class=\"view-party-container2\">\n          <h1>Party: {{ partyData.name }}</h1>\n        </div>\n        <form class=\"view-party-form\">\n          <input\n            type=\"text\"\n            placeholder=\"Name Party\"\n            class=\"view-party-textinput input\"\n            v-model=\"partyData.name\"\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Occasion\"\n            class=\"view-party-textinput1 input\"\n            v-model=\"partyData.occasion\"\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Date\"\n            class=\"view-party-textinput2 input\"\n            v-model=\"partyData.date\"\n          />\n          <textarea\n            placeholder=\"Description\"\n            class=\"view-party-textarea textarea\"\n            v-model=\"partyData.description\"\n          ></textarea>\n          <textarea\n            placeholder=\"Members\"\n            class=\"view-party-textarea1 textarea\"\n          >\n            {{ partyData.members ? partyData.members.join(', ' ): ''}}\n          </textarea>\n          <button type=\"button\" class=\"button\" @click=\"updateParty\">\n            <span>\n              <span>Update</span>\n              <br />\n            </span>\n          </button>\n          <button type=\"button\" class=\"button\">\n            <span>\n              <span>View Presents</span>\n              <br />\n            </span>\n          </button>\n          <button type=\"button\" class=\"button\">\n            <span>\n              <span>Delete</span>\n              <br />\n            </span>\n          </button>\n          <button type=\"button\" class=\"button\">\n            <span>\n              <span>Go To Group Chat</span>\n              <br />\n            </span>\n          </button>\n        </form>\n        <img\n          alt=\"image\"\n          :src= \"imageSrc\"\n          class=\"view-party-image\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport AppHeader from '../components/header'\nimport LeftCanvas from '../components/left-canvas'\nimport RightCanvas from '../components/right-canvas'\nimport axios from 'axios'\nimport {Buffer} from 'buffer'\n\nexport default {\n  name: 'ViewPartyDetails',\n  components: {\n    AppHeader,\n    LeftCanvas,\n    RightCanvas,\n  },\n  data() {\n    return {\n      partyid: null,\n      partyData: {\n        name: '',\n        occasion: '',\n        date: '',\n        description: '',\n        members: [],\n        // Initialize image as a Blob object\n        image: null\n      }\n    };\n  },\n  computed: {\n  imageSrc() {\n    console.log('IMAGESRC: ', this.partyData.image);\n    if (this.partyData.image && Array.isArray(this.partyData.image.data)) {\n      // Create a Uint8Array from the array of integers\n      const uint8Array = new Uint8Array(this.partyData.image.data);\n      \n      // Create a buffer from the Uint8Array\n      const buffer = Buffer.from(uint8Array);\n      \n      // Create a Blob from the buffer\n      const blob = new Blob([buffer], { type: 'image/jpeg' });\n      \n      // Create an object URL from the blob\n      return URL.createObjectURL(blob);\n    } else {\n      console.log('WE IN ELSE');\n      return ''; // Return empty string if image data is not available\n    }\n  }\n},\n\n  mounted() {\n    this.partyid = this.$route.params.partyid;\n    this.fetchPartyData();\n  },\n  methods: {\n    async fetchPartyData() {\n      try {\n        const response = await axios.get(`http://localhost:3001/get-party/${this.partyid}`);\n        this.partyData = {\n          name: response.data.name,\n          occasion: response.data.occasion,\n          date: response.data.date,\n          description: response.data.description,\n          members: response.data.members,\n          image: response.data.image\n        };\n        console.log('image: ', this.partyData.image);\n      } catch (error) {\n        console.error('Error fetching party data:', error);\n      }\n    },\n    async updateParty() {\n      try {\n        const response = await axios.put(`http://localhost:3001/update-party/${this.partyid}`, this.partyData);\n        console.log('Party updated successfully:', response.data);\n        // Optionally, you can redirect or show a success message here\n      } catch (error) {\n        console.error('Error updating party:', error);\n        // Handle error: show error message or redirect to error page\n      }\n    }\n  }\n}\n</script>\n\n\n<style scoped>\n.view-party-container {\n  width: 100%;\n  display: flex;\n  overflow: auto;\n  min-height: 100vh;\n  align-items: center;\n  flex-direction: column;\n}\n.view-party-main-canvas {\n  flex: 1;\n  width: 1600px;\n  height: 100%;\n  display: flex;\n  position: relative;\n  align-items: flex-end;\n  justify-content: center;\n}\n.view-party-container1 {\n  top: 0px;\n  flex: 1;\n  left: 0px;\n  right: 0px;\n  width: 58%;\n  height: 100%;\n  margin: auto;\n  display: flex;\n  position: absolute;\n  align-self: flex-start;\n  align-items: center;\n  flex-direction: column;\n  justify-content: flex-start;\n}\n.view-party-container2 {\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 98px;\n  display: flex;\n  position: absolute;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n}\n.view-party-form {\n  left: 0px;\n  right: 0px;\n  width: 98%;\n  bottom: 56px;\n  height: 378px;\n  margin: var(--dl-space-space-halfunit);\n  display: flex;\n  position: absolute;\n  align-items: center;\n  flex-direction: column;\n  justify-content: flex-start;\n}\n.view-party-textinput {\n  width: 80%;\n}\n.view-party-textinput1 {\n  width: 80%;\n}\n.view-party-textinput2 {\n  width: 80%;\n}\n.view-party-textarea {\n  width: 80%;\n}\n.view-party-textarea1 {\n  width: 80%;\n}\n.view-party-image {\n  top: 102px;\n  left: 0px;\n  right: 0px;\n  width: 80%;\n  height: 352px;\n  margin: auto;\n  position: absolute;\n  object-fit: cover;\n}\n@media(max-width: 1600px) {\n  .view-party-main-canvas {\n    width: 100%;\n  }\n  .view-party-container1 {\n    align-items: center;\n    flex-direction: column;\n    justify-content: flex-start;\n  }\n  .view-party-image {\n    width: 684px;\n    height: 355px;\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}